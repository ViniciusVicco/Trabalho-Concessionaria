<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<h:head>
	<meta charset="utf-8" name="viewport"
		content="width=device-width, initial-scale=1"
		http-equiv="X-UA-Conpatible" />
	<title>Hello, World!</title>
	<h:outputStylesheet library="css" name="bootstrap.min.css"></h:outputStylesheet>
</h:head>
<h:body styleClass="">
	<div class="container h-100">
		<h1>Projeto Concessionaria Vinícius</h1>
		<div
			class="d-flex justify-content-md-center align-items-center vh-100">




			<div class="form-group">
				<h:form>
					<h:panelGrid columns="2">
						<h:outputLabel value="* Modelo"></h:outputLabel>
						<h:inputText id="modeloInput" required="true"
							requiredMessage="O campo do modelo não pode ser vazio"
							styleClass="form-control"
							value="#{concessionariaController.veiculo.modelo}"></h:inputText>
						<h:outputLabel value="* Marca"></h:outputLabel>
						<h:inputText id="marcaInput" styleClass="form-control"
							required="true"
							requiredMessage="O campo da marca não pode ser vazio"
							value="#{concessionariaController.veiculo.marca}"></h:inputText>
						<h:outputLabel value="* Cor"></h:outputLabel>
						<h:inputText id="corInput" styleClass="form-control"
							required="true"
							requiredMessage="O campo da cor não pode ser vazio"
							value="#{concessionariaController.veiculo.cor}"></h:inputText>
						<h:outputLabel value="* Ano"></h:outputLabel>
						<h:inputText id="anoInput" styleClass="form-control"
							value="#{concessionariaController.veiculo.ano}" required="true"
							requiredMessage="O campo do ano não pode ser vazio, ex: 01/01/2021">

							<f:convertDateTime pattern="dd/MM/yyyy" type="localDate"
								locale="pt_BR"></f:convertDateTime>
						</h:inputText>
						<h:outputLabel value="Versão"></h:outputLabel>
						<h:inputText id="versaoInput" styleClass="form-control"
							value="#{concessionariaController.veiculo.versao}"></h:inputText>
						<h:outputLabel value="Carroceria"></h:outputLabel>
						<h:selectOneMenu id="cacorroceriaInput"
							value="#{concessionariaController.veiculo.carroceria}">
							<f:selectItems
								value="#{concessionariaController.listaCarroceria}"
								itemLabel="#{objeto.label}" var="objeto"></f:selectItems>
						</h:selectOneMenu>

					</h:panelGrid>
					<h:panelGrid columns="2">
						<h:commandButton styleClass="btn btn-primary"
							disabled="#{concessionariaController.veiculo.id != null}"
							value="Inserir">
							<f:ajax listener="#{concessionariaController.inserir}"
								execute="@all" render="@all" event="click"></f:ajax>
						</h:commandButton>
						<h:commandButton styleClass="btn btn-primary"
							disabled="#{concessionariaController.veiculo.id == null}"
							value="Alterar">
							<f:ajax listener="#{concessionariaController.alterar}"
								execute="@all" render="@all" event="click"></f:ajax>
						</h:commandButton>
					</h:panelGrid>
				</h:form>

				<br></br>

				<h:form>
					<h:dataTable value="#{concessionariaController.listaVeiculos}"
						var="obj">
						<h:column>
							<f:facet name="header">Id</f:facet>
							<h:outputLabel value="#{obj.id}"></h:outputLabel>
						</h:column>
						<h:column>
							<f:facet name="header">Modelo</f:facet>
							<h:outputLabel value="#{obj.modelo}"></h:outputLabel>
						</h:column>
						<h:column>
							<f:facet name="header">Marca</f:facet>
							<h:outputLabel value="#{obj.marca}"></h:outputLabel>
						</h:column>
						<h:column>
							<f:facet name="header">Cor</f:facet>
							<h:outputLabel value="#{obj.cor}"></h:outputLabel>
						</h:column>
						<h:column>
							<f:facet name="header">Ano</f:facet>
							<h:outputLabel value="#{obj.ano}">

							</h:outputLabel>
						</h:column>
						<h:column>
							<f:facet name="header">Versão</f:facet>
							<h:outputLabel value="#{obj.versao}"></h:outputLabel>
						</h:column>
						<h:column>
							<f:facet name="header">Carroceria</f:facet>
							<h:outputLabel value="#{obj.carroceria.label}" />
						</h:column>
						<h:column>
							<h:commandButton styleClass="btn btn-primary"
								disabled="#{concessionariaController.veiculo.id != null}"
								value="Selecionar">
								<f:ajax listener="#{concessionariaController.editar(obj)}"
									execute="@all" render="@all" event="click"></f:ajax>
							</h:commandButton>
						</h:column>
						<h:column>
							<h:commandButton styleClass="btn btn-primary"
								disabled="#{concessionariaController.veiculo.id == null}"
								value="Excluir">
							<f:ajax listener="#{concessionariaController.excluir(obj)}"
									execute="@all" render="@all" event="click"></f:ajax>
							</h:commandButton>
						</h:column>
						<h:column>
							<h:commandButton styleClass="btn btn-primary"
								disabled="#{concessionariaController.veiculo.id == null}"
								value="Limpar">
							<f:ajax listener="#{concessionariaController.limpar}"
									execute="@all" render="@all" event="click"></f:ajax>
							</h:commandButton>
						</h:column>


					</h:dataTable>
				</h:form>
				<h:messages>
				</h:messages>

			</div>


		</div>
	</div>

</h:body>
</html>